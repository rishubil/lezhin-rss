<!DOCTYPE html>
<html lang="en">
<!--
   .-.                        .-._   .-._.  .     
  (_) )-.             /     ..' (_)`-'      /      
     /   \ .-.   .---/--.-. |     .-._.-../  .-.  
    /     (  |  / \ /  (  | |    (   (   / ./.-'_ 
 .-/  `--' `-'-/ ._/    `-'-`.    `-' `-'-.(__.'  
(_/           /               `--'                

PastaCode, 2015
by 이희원 (pastacode.dev@gmail.com)
병특하고 싶습니다. 병특하게 해주세요. 엉엉.
 -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="Rq4u1U_838rMD1MlA45bywybMlGfH1yGraLUshl90Ik"/>

    <title>Lezhin Comics Feed</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/material.red-deep_orange.min.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/icon.css') }}"/>

    <style>
        @import url(http://fonts.googleapis.com/earlyaccess/nanumgothic.css);

        .korean-font {
            font-family: 'Nanum Gothic', sans-serif;
        }

        .mdl-card {
            margin: 10px 10px;
        }

        .col-centered {
            display: inline-block;
            float: none;
            margin: 0 auto;
            padding: 0;
            vertical-align: top;
        }

        .comic-card > .mdl-card__title {
            height: 165px;
            background-position: 50% 50%;
            background-size: cover;
        }

        .comic-card-title {
            color: #fff;
            text-shadow: 1px 1px 3px #000;
        }
    </style>
</head>

<body>
{% raw %}
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header" ng-app="lezhinRssApp" ng-controller="lezhinRssCtrl">
    <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
            <div class="mdl-layout-icon"></div>
            <span class="mdl-layout-title">{{ appName }}</span>

            <div class="mdl-layout-spacer"></div>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
                <label class="mdl-button mdl-js-button mdl-button--icon" for="fixed-header-drawer-exp">
                    <i class="material-icons">search</i>
                </label>

                <div class="mdl-textfield__expandable-holder">
                    <input class="mdl-textfield__input" type="text" name="sample" id="fixed-header-drawer-exp"/>
                </div>
            </div>
        </div>
    </header>
    <main class="mdl-layout__content">
        <div class="page-content">
            <div class="mdl-grid">
                <ul masonry class="mdl-cell mdl-cell--11-col col-centered" >
                    <li class="comic-card mdl-card mdl-shadow--2dp masonry-brick" ng-repeat="comic in comics">
                        <div class="mdl-card__title"
                             ng-style="{ 'background-image': 'url({{ wideImagePrefix + comic.comicId + wideImagePostfix }}?width=330)'}">
                            <h3 class="comic-card-title mdl-card__title-text korean-font">{{ comic.title }}</h3>
                        </div>
                        <div class="mdl-card__supporting-text korean-font">
                            <h6 class="comic-card-artist">{{ comic.artistDisplayName }}</h6>
                            <h6 class="comic-card-genre">{{ comic.genre }}</h6>
                            <p class="comic-card-comment">{{ comic.comment }}</p>
                            <p class="comic-card-synopsis">{{ comic.synopsis }}</p>
                        </div>
                        <div class="mdl-card__actions mdl-card--border">
                            <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect korean-font"
                               href="{{ url_for('comic_atom', comic_id=comic.comicId) }}">
                                구독하기
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <footer class="mdl-mini-footer">
            <div class="mdl-mini-footer__left-section">
                <div class="mdl-logo">{{ appName }}</div>
                <ul class="mdl-mini-footer__link-list">
                    <li><a href="https://github.com/rishubil/lezhin-rss">View on Github</a></li>
                </ul>
            </div>
        </footer>
    </main>
</div>
{% endraw %}

<script src="{{ url_for('static', filename='js/angular.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/angular-masonry.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/material.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/underscore-min.js') }}"></script>
<script id="lezhin-data" type="application/json">
{{ context.comics|safe }}
</script>
<script>
    var originalComics = JSON.parse($('#lezhin-data').html()).comics;
    var app = angular.module('lezhinRssApp', []);
    app.controller('lezhinRssCtrl', function ($scope) {
        $scope.appName = "Lezhin Comics RSS";
        $scope.wideImagePrefix = "http://cdn.lezhin.com/comics/";
        $scope.wideImagePostfix = "/images/wide";
        $scope.comics = originalComics.slice(1, 5);
    });
</script>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
        a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-39395407-4', 'auto');
    ga('send', 'pageview');

</script>
</body>

</html>